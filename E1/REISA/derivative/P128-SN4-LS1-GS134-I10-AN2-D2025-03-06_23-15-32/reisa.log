slurmstepd: info: Setting TMPDIR to /scratch/10895206. Previous errors about TMPDIR can be discarded
Slurm job started at 06/03/2025_11:54:48 PM

In transit.
Initing Ray (1 head node + 2 worker nodes + 4 simulation nodes) on nodes: 
	ilk-147 ilk-149 ilk-151 ilk-154 ilk-230 ilk-234 ilk-237
Head node: 172.30.204.3:6379


RAY_DEPLOY_TIME:     23.19113
2025-03-06 23:55:13,419	INFO packaging.py:520 -- Creating a file package for local directory '/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32'.
2025-03-06 23:55:13,448	INFO packaging.py:347 -- Pushing file package 'gcs://_ray_pkg_61669ea32658e7f0.zip' (0.48MiB) to Ray cluster...
2025-03-06 23:55:13,454	INFO packaging.py:360 -- Successfully pushed file package 'gcs://_ray_pkg_61669ea32658e7f0.zip'.
RAY_INIT_TIME:       3.20411
Iter [0]
Iter [1]
Iter [2]
Iter [3]
Iter [4]
Iter [5]
Iter [6]
Iter [7]
Iter [8]
Iter [9]
GLOBAL_PUT_TIME:     0.0477144718170166 (avg:0.00477)
ACTOR_CONCURRENCY:   8
SIMULATION_TIME:     7.103550738999999 (avg: 0.710355073900000)
SIM_WTHOUT_PDI:      3.470894089999998 (avg: 0.347089409000000)
PDI_DELAY:           3.632656649000001 (avg: 0.363265664900000)

GLOBAL_SIZE_(GiB):   131072
LOCAL_SIZE_(MiB):    1
ITERATIONS:          10

MPI_PER_NODE:        32
MPI_PARALLELISM:     128

WORKER_NODES:        2
CPUS_PER_WORKER:     64
WORKER_PARALLELISM:  128


SLURM_JOB_ID:        10895206
EST_ANALYTICS_TIME:  607.69815 (avg:60.76982)
Traceback (most recent call last):
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32/derivative.py", line 65, in <module>
    result = handler.get_result(process_func, iter_func, global_func=global_func, selected_iters=iterations, kept_iters=5, timeline=False)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32/reisa.py", line 156, in get_result
    return global_func(RayList(results))
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32/derivative.py", line 58, in global_func
    return np.average(final_results[:])
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32/reisa.py", line 50, in __getitem__
    return ray.get(RayList(item))
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/_private/client_mode_hook.py", line 104, in wrapper
    return getattr(ray, func.__name__)(*args, **kwargs)
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/util/client/api.py", line 42, in get
    return self.worker.get(vals, timeout=timeout)
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/util/client/worker.py", line 434, in get
    res = self._get(to_get, op_timeout)
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/util/client/worker.py", line 462, in _get
    raise err
ray.exceptions.RayTaskError: [36mray::iter_task()[39m (pid=2746199, ip=172.30.204.7)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32/reisa.py", line 146, in iter_task
    return iter_func(i, RayList(itertools.chain.from_iterable(current_results)))
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32/derivative.py", line 48, in iter_func
    return np.average(current_results[:])
  File "/scratch/10895206/ray/session_2025-03-06_23-54-49_539137_430573/runtime_resources/working_dir_files/_ray_pkg_61669ea32658e7f0/reisa.py", line 50, in __getitem__
    return ray.get(RayList(item))
ray.exceptions.RayTaskError: [36mray::process_task()[39m (pid=1154890, ip=172.30.204.5)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32/reisa.py", line 127, in process_task
    return process_func(rank, i, queue)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32/derivative.py", line 35, in process_func
    gt = np.array(queue[-5:])
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA/derivative/P128-SN4-LS1-GS134-I10-AN2-D2025-03-06_23-15-32/reisa.py", line 50, in __getitem__
    return ray.get(RayList(item))
ray.exceptions.ObjectFetchTimedOutError: Failed to retrieve object 00ffffffffffffffffffffffffffffffffffffff7a00000003000000. To see information about where this ObjectRef was created in Python, set the environment variable RAY_record_ref_creation_sites=1 during `ray start` and `ray.init()`.

Fetch for object 00ffffffffffffffffffffffffffffffffffffff7a00000003000000 timed out because no locations were found for the object. This may indicate a system-level bug.
srun: error: ilk-149: task 0: Exited with exit code 1
srun: launch/slurm: _step_signal: Terminating StepId=10895206.8

Slurm job finished at 07/03/2025_12:05:24 AM
