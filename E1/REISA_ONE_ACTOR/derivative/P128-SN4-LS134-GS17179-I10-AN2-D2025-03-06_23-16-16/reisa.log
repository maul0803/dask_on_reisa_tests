slurmstepd: info: Setting TMPDIR to /scratch/10895227. Previous errors about TMPDIR can be discarded
Slurm job started at 07/03/2025_01:53:33 AM

In transit.
Initing Ray (1 head node + 2 worker nodes + 4 simulation nodes) on nodes: 
	ilk-4 ilk-5 ilk-6 ilk-11 ilk-13 ilk-14 ilk-16
Head node: 172.30.201.4:6379


RAY_DEPLOY_TIME:     23.37889
2025-03-07 01:53:58,556	INFO packaging.py:520 -- Creating a file package for local directory '/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16'.
2025-03-07 01:53:58,584	INFO packaging.py:347 -- Pushing file package 'gcs://_ray_pkg_14ca7bd79f7619e8.zip' (0.48MiB) to Ray cluster...
2025-03-07 01:53:58,590	INFO packaging.py:360 -- Successfully pushed file package 'gcs://_ray_pkg_14ca7bd79f7619e8.zip'.
RAY_INIT_TIME:       4.19329
Iter [0]
Iter [1]
Iter [2]
Iter [3]
Iter [4]
Iter [5]
Iter [6]
Iter [7]
Iter [8]
Iter [9]
GLOBAL_PUT_TIME:     8.063815832138062 (avg:0.80638)
ACTOR_CONCURRENCY:   8
SIMULATION_TIME:     47.608874049000001 (avg: 4.760887404900000)
SIM_WTHOUT_PDI:      25.599710392999995 (avg: 2.559971039300000)
PDI_DELAY:           22.009163656000005 (avg: 2.200916365600000)

GLOBAL_SIZE_(GiB):   16777216
LOCAL_SIZE_(MiB):    128
ITERATIONS:          10

MPI_PER_NODE:        32
MPI_PARALLELISM:     128

WORKER_NODES:        2
CPUS_PER_WORKER:     64
WORKER_PARALLELISM:  128


SLURM_JOB_ID:        10895227
EST_ANALYTICS_TIME:  693.52825 (avg:69.35283)
Traceback (most recent call last):
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16/derivative.py", line 64, in <module>
    result = handler.get_result(process_func, iter_func, global_func=global_func, selected_iters=iterations, kept_iters=5, timeline=False)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16/reisa.py", line 154, in get_result
    return global_func(RayList(results))
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16/derivative.py", line 57, in global_func
    return np.average(final_results[:])
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16/reisa.py", line 51, in __getitem__
    return ray.get(RayList(item))
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/_private/client_mode_hook.py", line 104, in wrapper
    return getattr(ray, func.__name__)(*args, **kwargs)
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/util/client/api.py", line 42, in get
    return self.worker.get(vals, timeout=timeout)
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/util/client/worker.py", line 434, in get
    res = self._get(to_get, op_timeout)
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/util/client/worker.py", line 462, in _get
    raise err
ray.exceptions.RayTaskError: [36mray::iter_task()[39m (pid=2670473, ip=172.30.201.6)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16/reisa.py", line 144, in iter_task
    return iter_func(i, RayList(current_result))
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16/derivative.py", line 47, in iter_func
    return np.average(current_results[:])
  File "/scratch/10895227/ray/session_2025-03-07_01-53-34_529291_1446490/runtime_resources/working_dir_files/_ray_pkg_14ca7bd79f7619e8/reisa.py", line 51, in __getitem__
    return ray.get(RayList(item))
ray.exceptions.RayTaskError: [36mray::process_task()[39m (pid=2670782, ip=172.30.201.6)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16/reisa.py", line 125, in process_task
    return process_func(rank, i, queue)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16/derivative.py", line 34, in process_func
    gt = np.array(queue[-5:])
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E1/REISA_ONE_ACTOR/derivative/P128-SN4-LS134-GS17179-I10-AN2-D2025-03-06_23-16-16/reisa.py", line 51, in __getitem__
    return ray.get(RayList(item))
ray.exceptions.ObjectFetchTimedOutError: Failed to retrieve object 00ffffffffffffffffffffffffffffffffffffff7a00000004000000. To see information about where this ObjectRef was created in Python, set the environment variable RAY_record_ref_creation_sites=1 during `ray start` and `ray.init()`.

Fetch for object 00ffffffffffffffffffffffffffffffffffffff7a00000004000000 timed out because no locations were found for the object. This may indicate a system-level bug.
srun: error: ilk-5: task 0: Exited with exit code 1
srun: launch/slurm: _step_signal: Terminating StepId=10895227.8

Slurm job finished at 07/03/2025_02:05:37 AM

*****************************************************************************
*                                                                           *
*                    JOB EFFICIENCY REPORT (seff 10895227)                   *
*                                                                           *
*****************************************************************************

Job ID: 10895227
Cluster: finisterrae3
User/Group: curso341/ulc
State: COMPLETED (exit code 0)
Nodes: 7
Cores per node: 64
CPU Utilized: 01:20:22
CPU Efficiency: 1.48% of 3-18:28:16 core-walltime
Job Wall-clock time: 00:12:07
Memory Utilized: 676.14 MB
Memory Efficiency: 0.04% of 1.48 TB

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
*****************************************************************************


*****************************************************************************
*                                                                           *
*                    JOB EFFICIENCY REPORT (seff 10895227)                   *
*                                                                           *
*****************************************************************************

Job ID: 10895227
Cluster: finisterrae3
User/Group: curso341/ulc
State: COMPLETED (exit code 0)
Nodes: 7
Cores per node: 64
CPU Utilized: 01:56:37
CPU Efficiency: 2.15% of 3-18:28:16 core-walltime
Job Wall-clock time: 00:12:07
Memory Utilized: 14.21 GB
Memory Efficiency: 0.93% of 1.48 TB


 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
*****************************************************************************
 ++   Memory Efficiency is too small. Please review the requested memory. ++
*                                                                           *
 ++ It seems that you do not need that much memory so we recommend        ++
*                    JOB EFFICIENCY REPORT (seff 10895227)                   *
 ++ requesting less memory in other similar jobs.                         ++
*                                                                           *

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
*****************************************************************************
*****************************************************************************
 

*                                                                           *
*****************************************************************************
Job ID: 10895227
*                    JOB EFFICIENCY REPORT (seff 10895227)                   *

Cluster: finisterrae3

*                                                                           *
User/Group: curso341/ulc
*****************************************************************************
*****************************************************************************
State: COMPLETED (exit code 0)
*                                                                           *

Nodes: 7
*                    JOB EFFICIENCY REPORT (seff 10895227)                   *
Job ID: 10895227
Cores per node: 64
*                                                                           *
Cluster: finisterrae3
CPU Utilized: 01:56:37
*****************************************************************************
User/Group: curso341/ulc
CPU Efficiency: 2.15% of 3-18:28:16 core-walltime

State: COMPLETED (exit code 0)
Job Wall-clock time: 00:12:07
Job ID: 10895227
Nodes: 7
Memory Utilized: 14.21 GB
Cluster: finisterrae3
Cores per node: 64
Memory Efficiency: 0.93% of 1.48 TB
User/Group: curso341/ulc
CPU Utilized: 01:56:37

State: COMPLETED (exit code 0)
CPU Efficiency: 2.15% of 3-18:28:16 core-walltime
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Nodes: 7

Job Wall-clock time: 00:12:07
 ++   Memory Efficiency is too small. Please review the requested memory. ++
Cores per node: 64
*****************************************************************************
Memory Utilized: 14.21 GB
 ++ It seems that you do not need that much memory so we recommend        ++
CPU Utilized: 01:56:37
*                                                                           *
Memory Efficiency: 0.93% of 1.48 TB
 ++ requesting less memory in other similar jobs.                         ++
CPU Efficiency: 2.15% of 3-18:28:16 core-walltime
*                    JOB EFFICIENCY REPORT (seff 10895227)                   *

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Job Wall-clock time: 00:12:07
*                                                                           *
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
Memory Utilized: 14.21 GB
*****************************************************************************
 ++   Memory Efficiency is too small. Please review the requested memory. ++
*****************************************************************************
Memory Efficiency: 0.93% of 1.48 TB

 ++ It seems that you do not need that much memory so we recommend        ++


Job ID: 10895227
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Cluster: finisterrae3
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
User/Group: curso341/ulc
 
 ++ It seems that you do not need that much memory so we recommend        ++
State: COMPLETED (exit code 0)
*****************************************************************************
 ++ requesting less memory in other similar jobs.                         ++
Nodes: 7

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Cores per node: 64
 
CPU Utilized: 01:56:37
*****************************************************************************
CPU Efficiency: 2.15% of 3-18:28:16 core-walltime

Job Wall-clock time: 00:12:07
Memory Utilized: 14.21 GB
Memory Efficiency: 0.93% of 1.48 TB

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
*****************************************************************************


*****************************************************************************
*                                                                           *
*                    JOB EFFICIENCY REPORT (seff 10895227)                   *
*                                                                           *
*****************************************************************************

Job ID: 10895227
Cluster: finisterrae3
User/Group: curso341/ulc
State: COMPLETED (exit code 0)
Nodes: 7
Cores per node: 64
CPU Utilized: 01:56:37
CPU Efficiency: 2.15% of 3-18:28:16 core-walltime
Job Wall-clock time: 00:12:07
Memory Utilized: 14.21 GB
Memory Efficiency: 0.93% of 1.48 TB

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
*****************************************************************************

