slurmstepd: info: Setting TMPDIR to /scratch/10781191. Previous errors about TMPDIR can be discarded
Slurm job started at 26/02/2025_12:47:29 PM

In transit.
Initing Ray (1 head node + 2 worker nodes + 4 simulation nodes) on nodes: 
	ilk-133 ilk-159 ilk-161 ilk-166 ilk-172 ilk-192 ilk-236
Head node: 172.30.203.37:6379


RAY_DEPLOY_TIME:     23.96828
2025-02-26 12:47:57,948	INFO packaging.py:520 -- Creating a file package for local directory '/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55'.
2025-02-26 12:47:57,975	INFO packaging.py:347 -- Pushing file package 'gcs://_ray_pkg_62074fa2552567a7.zip' (0.48MiB) to Ray cluster...
2025-02-26 12:47:57,982	INFO packaging.py:360 -- Successfully pushed file package 'gcs://_ray_pkg_62074fa2552567a7.zip'.
RAY_INIT_TIME:       7.17526
Iter [0]
Iter [1]
Iter [2]
Iter [3]
Iter [4]
Iter [5]
Iter [6]
Iter [7]
Iter [8]
Iter [9]
Iter [10]
Iter [11]
GLOBAL_PUT_TIME:     10.75241994857788 (avg:0.89603)
ACTOR_CONCURRENCY:   8
SIMULATION_TIME:     38.215950471999996 (avg: 3.184662539333333)
SIM_WTHOUT_PDI:      23.938514943999991 (avg: 1.994876245333333)
PDI_DELAY:           14.277435528000005 (avg: 1.189786294000000)

GLOBAL_SIZE_(GiB):   16777216
LOCAL_SIZE_(MiB):    128
ITERATIONS:          12

MPI_PER_NODE:        32
MPI_PARALLELISM:     128

WORKER_NODES:        2
CPUS_PER_WORKER:     30
WORKER_PARALLELISM:  60


SLURM_JOB_ID:        10781191
EST_ANALYTICS_TIME:  688.52555 (avg:57.37713)
Traceback (most recent call last):
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55/derivative.py", line 65, in <module>
    result = handler.get_result(process_func, iter_func, global_func=global_func, selected_iters=iterations, kept_iters=5, timeline=False)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55/reisa.py", line 156, in get_result
    return global_func(RayList(results))
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55/derivative.py", line 58, in global_func
    return np.average(final_results[:])
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55/reisa.py", line 50, in __getitem__
    return ray.get(RayList(item))
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/_private/client_mode_hook.py", line 104, in wrapper
    return getattr(ray, func.__name__)(*args, **kwargs)
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/util/client/api.py", line 42, in get
    return self.worker.get(vals, timeout=timeout)
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/util/client/worker.py", line 434, in get
    res = self._get(to_get, op_timeout)
  File "/home/ulc/cursos/curso341/.local/lib/python3.9/site-packages/ray/util/client/worker.py", line 462, in _get
    raise err
ray.exceptions.RayTaskError: [36mray::iter_task()[39m (pid=2605950, ip=172.30.204.17)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55/reisa.py", line 146, in iter_task
    return iter_func(i, RayList(itertools.chain.from_iterable(current_results)))
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55/derivative.py", line 48, in iter_func
    return np.average(current_results[:])
  File "/scratch/10781191/ray/session_2025-02-26_12-47-32_134902_3779687/runtime_resources/working_dir_files/_ray_pkg_62074fa2552567a7/reisa.py", line 50, in __getitem__
    return ray.get(RayList(item))
ray.exceptions.RayTaskError: [36mray::process_task()[39m (pid=2624702, ip=172.30.204.17)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55/reisa.py", line 127, in process_task
    return process_func(rank, i, queue)
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55/derivative.py", line 35, in process_func
    gt = np.array(queue[-5:])
  File "/mnt/lustre/scratch/nlsas/home/ulc/cursos/curso341/dask_on_reisa_tests/E2/REISA/derivative/P128-SN4-LS134-GS17179-I12-AN2-D2025-02-26_11-01-55/reisa.py", line 50, in __getitem__
    return ray.get(RayList(item))
ray.exceptions.ObjectFetchTimedOutError: Failed to retrieve object 00ffffffffffffffffffffffffffffffffffffff1300000005000000. To see information about where this ObjectRef was created in Python, set the environment variable RAY_record_ref_creation_sites=1 during `ray start` and `ray.init()`.

Fetch for object 00ffffffffffffffffffffffffffffffffffffff1300000005000000 timed out because no locations were found for the object. This may indicate a system-level bug.
srun: error: ilk-159: task 0: Exited with exit code 1
srun: launch/slurm: _step_signal: Terminating StepId=10781191.8

Slurm job finished at 26/02/2025_12:59:31 PM

*****************************************************************************
*                                                                           *
*                    JOB EFFICIENCY REPORT (seff 10781191)                   *
*                                                                           *
*****************************************************************************

Job ID: 10781191
Cluster: finisterrae3
User/Group: curso341/ulc
State: COMPLETED (exit code 0)
Nodes: 7
Cores per node: 40
CPU Utilized: 01:23:19
CPU Efficiency: 2.47% of 2-08:14:00 core-walltime
Job Wall-clock time: 00:12:03
Memory Utilized: 669.14 MB
Memory Efficiency: 0.06% of 1.09 TB

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
*****************************************************************************


*****************************************************************************
*                                                                           *
*                    JOB EFFICIENCY REPORT (seff 10781191)                   *
*                                                                           *
*****************************************************************************

Job ID: 10781191
Cluster: finisterrae3
User/Group: curso341/ulc
State: COMPLETED (exit code 0)
Nodes: 7
Cores per node: 40
CPU Utilized: 02:17:34
CPU Efficiency: 4.08% of 2-08:14:00 core-walltime
Job Wall-clock time: 00:12:03
Memory Utilized: 22.57 GB
Memory Efficiency: 2.02% of 1.09 TB

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
*****************************************************************************



*****************************************************************************
*****************************************************************************
*                                                                           *
*                                                                           *
*                    JOB EFFICIENCY REPORT (seff 10781191)                   *
*                    JOB EFFICIENCY REPORT (seff 10781191)                   *
*                                                                           *
*                                                                           *
*****************************************************************************
*****************************************************************************


Job ID: 10781191
Job ID: 10781191
Cluster: finisterrae3
Cluster: finisterrae3
User/Group: curso341/ulc
User/Group: curso341/ulc
State: COMPLETED (exit code 0)
State: COMPLETED (exit code 0)
Nodes: 7
Nodes: 7
Cores per node: 40
Cores per node: 40
CPU Utilized: 02:17:34
CPU Utilized: 02:17:34
CPU Efficiency: 4.08% of 2-08:14:00 core-walltime
CPU Efficiency: 4.08% of 2-08:14:00 core-walltime
Job Wall-clock time: 00:12:03
Job Wall-clock time: 00:12:03
Memory Utilized: 22.57 GB
Memory Utilized: 22.57 GB
Memory Efficiency: 2.02% of 1.09 TB
Memory Efficiency: 2.02% of 1.09 TB


 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ requesting less memory in other similar jobs.                         ++
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
 
*****************************************************************************
*****************************************************************************



*****************************************************************************
*                                                                           *
*                    JOB EFFICIENCY REPORT (seff 10781191)                   *
*                                                                           *
*****************************************************************************

Job ID: 10781191
Cluster: finisterrae3
User/Group: curso341/ulc
State: COMPLETED (exit code 0)
Nodes: 7
Cores per node: 40
CPU Utilized: 02:17:34
CPU Efficiency: 4.08% of 2-08:14:00 core-walltime
Job Wall-clock time: 00:12:03
Memory Utilized: 22.57 GB
Memory Efficiency: 2.02% of 1.09 TB

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
*****************************************************************************


*****************************************************************************
*                                                                           *
*                    JOB EFFICIENCY REPORT (seff 10781191)                   *
*                                                                           *
*****************************************************************************

Job ID: 10781191
Cluster: finisterrae3
User/Group: curso341/ulc
State: COMPLETED (exit code 0)
Nodes: 7
Cores per node: 40
CPU Utilized: 02:17:34
CPU Efficiency: 4.08% of 2-08:14:00 core-walltime
Job Wall-clock time: 00:12:03
Memory Utilized: 22.57 GB
Memory Efficiency: 2.02% of 1.09 TB

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
*****************************************************************************


*****************************************************************************
*                                                                           *
*                    JOB EFFICIENCY REPORT (seff 10781191)                   *
*                                                                           *
*****************************************************************************

Job ID: 10781191
Cluster: finisterrae3
User/Group: curso341/ulc
State: COMPLETED (exit code 0)
Nodes: 7
Cores per node: 40
CPU Utilized: 02:17:34
CPU Efficiency: 4.08% of 2-08:14:00 core-walltime
Job Wall-clock time: 00:12:03
Memory Utilized: 22.57 GB
Memory Efficiency: 2.02% of 1.09 TB

 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ++   Memory Efficiency is too small. Please review the requested memory. ++
 ++ It seems that you do not need that much memory so we recommend        ++
 ++ requesting less memory in other similar jobs.                         ++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 
*****************************************************************************

